<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Tokenika alternative for the EOS *eosc* program</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tokenika.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tokenika alternative for the EOS *eosc* program </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Rationale</h2>
<p>For our work with eos small contracts, we have found that the original EOS <code>eosc</code> interface program is too much restrictive. First, it is hard to be used programmatically in a C++ code. Next, it is quite heavy as it is tightly connected to the whole of the EOS code. Also, it is not ready to be used in the Windows environment, while we plan to open Windows based contract development possibility.</p>
<p>It could be enough for us to develope a minimal C++ library, implementing the commands of the EOS <code>eosc</code>. However, it was a short step to to provide this library with an command line interface.</p>
<p>Finally, to make our work competitive to the original, and for fun, we have added a richer command option list. We dare to hope that this little work of ours could be included to the EOS project.</p>
<p>We already know how to use this richness: it is much ease to make a tool as tokenika <a href="#"><code>eoscBash</code></a> that wraps the EOS <code>eosc</code> for bookkeeping.</p>
<h2>Richer API</h2>
<p>### EOS </p><div class="fragment"><div class="line">./eosc get block -h</div></div><!-- fragment --> <div class="fragment"><div class="line">ERROR: RequiredError: block</div><div class="line">Retrieve a full block from the blockchain</div><div class="line">Usage: ./eosc get block block</div><div class="line"></div><div class="line">Positionals:</div><div class="line">  block TEXT                  The number or ID of the block to retrieve</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25</div></div><!-- fragment --> <div class="fragment"><div class="line">{</div><div class="line">  &quot;previous&quot;: &quot;00000018b5e0ffcd3dfede45bc261e3a04de9f1f40386a69821780e063a41448&quot;,</div><div class="line">  &quot;timestamp&quot;: &quot;2017-11-29T09:50:03&quot;,</div><div class="line">  &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">  &quot;producer&quot;: &quot;initf&quot;,</div><div class="line">  &quot;producer_changes&quot;: [],</div><div class="line">  &quot;producer_signature&quot;: &quot;2005db1a193cc3597fdc3bd38a4375df2a9f9593390f9431f7a9b53701cd46a1b5418b9cd68edbdf2127d6ececc4d66b7a190e72a97ce9adfcc750ef0a770f5619&quot;,</div><div class="line">  &quot;cycles&quot;: [],</div><div class="line">  &quot;id&quot;: &quot;000000190857c9fb43d62525bd29dc321003789c075de593ce7224bde7fc2284&quot;,</div><div class="line">  &quot;block_num&quot;: 25,</div><div class="line">  &quot;refBlockPrefix&quot;: 623236675</div><div class="line">}</div></div><!-- fragment --><h3>Tokenika</h3>
<div class="fragment"><div class="line">./eosc get block -h</div></div><!-- fragment --> <div class="fragment"><div class="line">Retrieve a full block from the blockchain</div><div class="line">Usage: ./eosc get block [block_num] [Options]</div><div class="line">Usage: ./eosc get block [-j {&quot;block_num_or_id&quot;:*}] [OPTIONS]</div><div class="line"></div><div class="line">Options:</div><div class="line"></div><div class="line">  -n [ --block_num ] arg  Block number</div><div class="line">  -i [ --block_id ] arg   Block id</div><div class="line"></div><div class="line">  -h [ --help ]           Help screen</div><div class="line">  -j [ --json ] arg       Json argument</div><div class="line">  -v [ --received ]       Print received json</div><div class="line">  -r [ --raw ]            Not pretty print</div><div class="line">  -e [ --example ]        Usage example</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25</div><div class="line">##         block number: 25</div><div class="line">##            timestamp: 2017-11-29T09:50:03</div><div class="line">##     ref block prefix: 623236675</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25 -v</div></div><!-- fragment --> <div class="fragment"><div class="line">{</div><div class="line">    &quot;previous&quot;: &quot;00000018b5e0ffcd3dfede45bc261e3a04de9f1f40386a69821780e063a41448&quot;,</div><div class="line">    &quot;timestamp&quot;: &quot;2017-11-29T09:50:03&quot;,</div><div class="line">    &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">    &quot;producer&quot;: &quot;initf&quot;,</div><div class="line">    &quot;producer_changes&quot;: &quot;&quot;,</div><div class="line">    &quot;producer_signature&quot;: &quot;2005db1a193cc3597fdc3bd38a4375df2a9f9593390f9431f7a9b53701cd46a1b5418b9cd68edbdf2127d6ececc4d66b7a190e72a97ce9adfcc750ef0a770f5619&quot;,</div><div class="line">    &quot;cycles&quot;: &quot;&quot;,</div><div class="line">    &quot;id&quot;: &quot;000000190857c9fb43d62525bd29dc321003789c075de593ce7224bde7fc2284&quot;,</div><div class="line">    &quot;block_num&quot;: &quot;25&quot;,</div><div class="line">    &quot;refBlockPrefix&quot;: &quot;623236675&quot;</div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block 25 -v -r</div></div><!-- fragment --> <div class="fragment"><div class="line">{&quot;previous&quot;:&quot;00000018b5e0ffcd3dfede45bc261e3a04de9f1f40386a69821780e063a41448&quot;,&quot;timestamp&quot;:&quot;2017-11-29T09:50:03&quot;,&quot;transaction_merkle_root&quot;:&quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,&quot;producer&quot;:&quot;initf&quot;,&quot;producer_changes&quot;:&quot;&quot;,&quot;producer_signature&quot;:&quot;2005db1a193cc3597fdc3bd38a4375df2a9f9593390f9431f7a9b53701cd46a1b5418b9cd68edbdf2127d6ececc4d66b7a190e72a97ce9adfcc750ef0a770f5619&quot;,&quot;cycles&quot;:&quot;&quot;,&quot;id&quot;:&quot;000000190857c9fb43d62525bd29dc321003789c075de593ce7224bde7fc2284&quot;,&quot;block_num&quot;:&quot;25&quot;,&quot;refBlockPrefix&quot;:&quot;623236675&quot;}</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block -j &#39;{&quot;block_num_or_id&quot;:&quot;56&quot;}&#39;</div><div class="line">##         block number: 56</div><div class="line">##            timestamp: 2017-11-29T10:02:18</div><div class="line">##     ref block prefix: 273573026</div></div><!-- fragment --> <div class="fragment"><div class="line">./eosc get block --example</div></div><!-- fragment --> <div class="fragment"><div class="line">Invoke &#39;GetInfo&#39; command:</div><div class="line">GetInfo GetInfo;</div><div class="line"></div><div class="line">{</div><div class="line">    &quot;head_block_num&quot;: &quot;9939&quot;,</div><div class="line">    &quot;last_irreversible_block_num&quot;: &quot;9924&quot;,</div><div class="line">    &quot;head_block_id&quot;: &quot;000026d378f90b5d25dcf962fc44d637872218e5f826420a342f05a534d50bfc&quot;,</div><div class="line">    &quot;head_block_time&quot;: &quot;2017-12-01T18:57:42&quot;,</div><div class="line">    &quot;head_block_producer&quot;: &quot;initr&quot;,</div><div class="line">    &quot;recent_slots&quot;: &quot;0000000000000000000000000000000000000000000000000011111111111111&quot;,</div><div class="line">    &quot;participation_rate&quot;: &quot;0.21875000000000000&quot;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line">Use reference to the last block:</div><div class="line">GetBlock GetBlock(</div><div class="line">  GetInfo.get&lt;int&gt;(&quot;last_irreversible_block_num&quot;));</div><div class="line"></div><div class="line">{</div><div class="line">    &quot;previous&quot;: &quot;000026c35fb5d442be6d4e81a1347cce2c0184c4c2047d9e6dfc78b3bb325ac2&quot;,</div><div class="line">    &quot;timestamp&quot;: &quot;2017-12-01T17:01:09&quot;,</div><div class="line">    &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">    &quot;producer&quot;: &quot;initn&quot;,</div><div class="line">    &quot;producer_changes&quot;: &quot;&quot;,</div><div class="line">    &quot;producer_signature&quot;: &quot;1f6984d14ee40ed9806ae14aa96531d874fc3417bf3f1b66c4b1d9c9402f3f90ef07c4523eb9a639ad632c181580aeb051385d718dc59ecc54d0f0e5de012b540f&quot;,</div><div class="line">    &quot;cycles&quot;: &quot;&quot;,</div><div class="line">    &quot;id&quot;: &quot;000026c44a2e8075a5b92813869bfb67b72b79ccb3f2e40ad815603c04d2fafd&quot;,</div><div class="line">    &quot;block_num&quot;: &quot;9924&quot;,</div><div class="line">    &quot;refBlockPrefix&quot;: &quot;321436069&quot;</div><div class="line">}</div></div><!-- fragment --> <h2>Library</h2>
<p>For us, a real value is the library that runs the tokenika::eosc, as we see the original eos library as not practical for our work. We need a light-weight thing, a cross-platform (good for windows) one.</p>
<p>Let you see a code snippet: </p><div class="fragment"><div class="line">#include &lt;stdio.h&gt;</div><div class="line">#include &lt;stdlib.h&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line"></div><div class="line">#include &quot;EoscCommands/eosc_get_commands.hpp&quot;</div><div class="line"></div><div class="line">int main(int argc, char *argv[])</div><div class="line">{</div><div class="line">  tokenika::eosc::GetInfo GetInfo; /* Call &#39;eosd&#39; for &#39;get info&#39;. */</div><div class="line">  tokenika::eosc::GetBlock GetBlock( /* Call &#39;eosd&#39; for &#39;get block&#39;, the last one. */</div><div class="line">    GetInfo.get&lt;int&gt;(&quot;last_irreversible_block_num&quot;));</div><div class="line"></div><div class="line">  std::cout &lt;&lt; GetBlock.toStringRcv() &lt;&lt; std::endl;/* Print the response. */</div><div class="line"></div><div class="line">  return 0;</div><div class="line">}</div></div><!-- fragment --><p> Here is the print-out: </p><div class="fragment"><div class="line">    &quot;previous&quot;: &quot;000028716589219b442afe9d140bc28eff4335aecd37d519b0105fca4c8e4a3f&quot;,</div><div class="line">    &quot;timestamp&quot;: &quot;2017-12-01T19:18:27&quot;,</div><div class="line">    &quot;transaction_merkle_root&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</div><div class="line">    &quot;producer&quot;: &quot;inith&quot;,</div><div class="line">    &quot;producer_changes&quot;: &quot;&quot;,</div><div class="line">    &quot;producer_signature&quot;: &quot;1f510dec0bcd85847b7bead61f6deee7a5fb4108745e6ceaaa81804fe4700b561f7ca3f3f26f56fbfaf1e10fd3ba2999f8cbe165fd391b023334badcf894ba54dc&quot;,</div><div class="line">    &quot;cycles&quot;: &quot;&quot;,</div><div class="line">    &quot;id&quot;: &quot;00002872be99d0133ea104b42b771f3c7c2ea3736263dc9db3719728a2776976&quot;,</div><div class="line">    &quot;block_num&quot;: &quot;10354&quot;,</div><div class="line">    &quot;refBlockPrefix&quot;: &quot;3020202302&quot;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
